const NGINX_BASE_URL="https://borg286.github.io/samplesite",createSection=(e,t="")=>`\n    <h2 class="section-title">${e}</h2>\n    <div id="${e.toLowerCase().replace(/\s+/g,"")}Content">${t}</div>\n`,spinner='<div class="text-center"><div class="spinner-border text-primary"><span class="visually-hidden">Loading...</span></div></div>',errorMsg=e=>`<div class="alert alert-danger">Failed to load ${e} information.</div>`;class ModuleLoader{constructor(){this.loaded=new Set,this.loading=new Map}async load(e){if(this.loaded.has(e))return Promise.resolve();if(this.loading.has(e))return this.loading.get(e);const t=new Promise(((t,n)=>{const o=document.createElement("script");o.src=`${NGINX_BASE_URL}/${e}.js`,o.async=!0,o.onload=()=>{this.loaded.add(e),this.loading.delete(e),t()},o.onerror=()=>{this.loading.delete(e),n(new Error(`Failed to load: ${e}`))},document.head.appendChild(o)}));return this.loading.set(e,t),t}}const loader=new ModuleLoader,sections={pricing:{title:"Pricing",init:"initPricing",module:"pricing"},reviews:{title:"Customer Reviews",init:"initReviews",module:"reviews"},contact:{title:"Contact Us",init:"initContacts",module:"contacts",subtitle:'<p class="text-center mb-4">Get in touch with us to learn more about our products</p>'}};async function loadSection(e){const t=sections[e],n=document.querySelector(`#${e} .container`);n.innerHTML=createSection(t.title,spinner),t.subtitle&&n.querySelector(".section-title").insertAdjacentHTML("afterend",t.subtitle);try{await loader.load(t.module),"function"==typeof window[t.init]&&window[t.init]()}catch(t){console.error(`Error loading ${e}:`,t),document.getElementById(`${e.toLowerCase()}Content`).innerHTML=`<div class="alert alert-danger">Failed to load ${e} information.</div>`}}document.addEventListener("DOMContentLoaded",(()=>{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(loadSection(t.target.id),e.unobserve(t.target))}))}),{root:null,rootMargin:"100px",threshold:.1});Object.keys(sections).forEach((t=>{const n=document.getElementById(t);n&&e.observe(n)})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const n=document.querySelector(e.getAttribute("href"));n&&n.scrollIntoView({behavior:"smooth",block:"start"})}))}))}));